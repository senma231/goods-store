@echo off
chcp 65001 >nul
echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                            â•‘
echo â•‘   ğŸš€ è™šæ‹Ÿå•†å“å•†åŸ - æœ¬åœ°å¯åŠ¨è„šæœ¬                            â•‘
echo â•‘                                                            â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo [1/3] æ£€æŸ¥åç«¯ä¾èµ–...
cd backend
if not exist node_modules (
    echo ğŸ“¦ å®‰è£…åç«¯ä¾èµ–...
    call npm install
) else (
    echo âœ… åç«¯ä¾èµ–å·²å®‰è£…
)

echo.
echo [2/3] åˆå§‹åŒ–æ•°æ®åº“...
if not exist data\database.db (
    echo ğŸ“¦ åˆ›å»ºæ•°æ®åº“...
    call npm run init-db
) else (
    echo âœ… æ•°æ®åº“å·²å­˜åœ¨
)

echo.
echo [3/3] å¯åŠ¨æœåŠ¡...
echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘  åç«¯ API: http://localhost:8787                           â•‘
echo â•‘  å‰ç«¯é¡µé¢: http://localhost:5173                           â•‘
echo â•‘                                                            â•‘
echo â•‘  ç®¡ç†å‘˜è´¦å·:                                               â•‘
echo â•‘    é‚®ç®±: admin@shop.com                                    â•‘
echo â•‘    å¯†ç : admin123                                          â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ğŸš€ å¯åŠ¨åç«¯æœåŠ¡å™¨...
start "è™šæ‹Ÿå•†å“å•†åŸ - åç«¯" cmd /k "cd /d %~dp0backend && npm start"

timeout /t 3 /nobreak >nul

echo ğŸš€ å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨...
cd ..\virtual-goods-store
start "è™šæ‹Ÿå•†å“å•†åŸ - å‰ç«¯" cmd /k "pnpm dev"

echo.
echo âœ… æœåŠ¡å·²å¯åŠ¨ï¼
echo.
echo è¯·åœ¨æµè§ˆå™¨ä¸­è®¿é—®: http://localhost:5173
echo.
pause

