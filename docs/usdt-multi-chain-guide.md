# USDT 多链钱包配置指南

## 📋 概述

系统支持为不同的区块链网络配置独立的 USDT 钱包地址，用户可以选择最适合自己的链进行支付。

---

## 🔗 支持的链

| 链类型 | 网络名称 | 地址格式 | 手续费 | 推荐度 |
|--------|---------|---------|--------|--------|
| **TRC20** | 波场 (TRON) | T开头 | ~1 USDT | ⭐⭐⭐⭐⭐ |
| **ERC20** | 以太坊 (Ethereum) | 0x开头 | ~5-20 USDT | ⭐⭐ |
| **BEP20** | 币安智能链 (BSC) | 0x开头 | ~0.5-2 USDT | ⭐⭐⭐⭐ |

**推荐使用 TRC20**：手续费最低，到账速度快。

---

## 🎯 工作原理

### 1. **配置阶段**（管理员）

在管理后台为每条链配置独立的钱包地址：

```
TRC20 地址: TAbcdefg1234567890...
ERC20 地址: 0xabcdef1234567890...
BEP20 地址: 0x123456abcdef7890...
```

### 2. **支付阶段**（用户）

用户选择 USDT 支付时：
1. 选择链类型（TRC20/ERC20/BEP20）
2. 系统显示对应链的钱包地址和二维码
3. 用户使用钱包扫码或复制地址转账
4. 管理员在后台确认收款
5. 系统自动发货

---

## 🔧 配置步骤

### 步骤 1: 准备钱包地址

您需要准备支持 USDT 的钱包，推荐以下钱包：

**多链钱包（推荐）**：
- **Trust Wallet** - 支持 TRC20/ERC20/BEP20
- **imToken** - 支持 TRC20/ERC20/BEP20
- **TokenPocket** - 支持 TRC20/ERC20/BEP20

**单链钱包**：
- **TronLink** - 仅支持 TRC20
- **MetaMask** - 支持 ERC20/BEP20

### 步骤 2: 获取钱包地址

#### TRC20 地址（推荐）
1. 打开钱包应用
2. 选择 TRON 网络
3. 找到 USDT (TRC20) 资产
4. 点击"接收"或"收款"
5. 复制地址（T开头）

#### ERC20 地址
1. 打开钱包应用
2. 选择 Ethereum 网络
3. 找到 USDT (ERC20) 资产
4. 点击"接收"或"收款"
5. 复制地址（0x开头）

#### BEP20 地址
1. 打开钱包应用
2. 选择 BSC (Binance Smart Chain) 网络
3. 找到 USDT (BEP20) 资产
4. 点击"接收"或"收款"
5. 复制地址（0x开头）

### 步骤 3: 在管理后台配置

1. 登录管理后台
2. 进入"支付管理"标签
3. 找到 USDT 支付方式，点击"配置"
4. 填入各链的钱包地址：
   - **TRC20 钱包地址**：粘贴您的 TRC20 地址
   - **ERC20 钱包地址**：粘贴您的 ERC20 地址（可选）
   - **BEP20 钱包地址**：粘贴您的 BEP20 地址（可选）
5. 选择**默认链类型**（推荐 TRC20）
6. 点击"保存配置"

---

## 💡 配置建议

### 最小配置（推荐新手）

只配置 TRC20 地址：
- ✅ 手续费最低
- ✅ 到账速度快
- ✅ 用户体验好

### 完整配置（推荐有经验用户）

配置所有三条链的地址：
- ✅ 用户可以选择自己熟悉的链
- ✅ 覆盖更多用户群体
- ✅ 提供更多支付选项

---

## ⚠️ 重要提示

### 1. **地址格式验证**

- TRC20 地址必须以 `T` 开头
- ERC20/BEP20 地址必须以 `0x` 开头
- 地址长度通常为 34-42 个字符

### 2. **网络选择**

⚠️ **务必确保用户使用正确的网络转账！**

- 如果用户选择 TRC20，必须使用 TRON 网络转账
- 如果用户选择 ERC20，必须使用 Ethereum 网络转账
- 如果用户选择 BEP20，必须使用 BSC 网络转账

**错误的网络会导致资金丢失！**

### 3. **同一个钱包的不同链地址**

注意：
- ERC20 和 BEP20 可以使用同一个地址（都是 0x 开头）
- TRC20 必须使用独立的地址（T 开头）

---

## 🔄 支付确认流程

### 手动确认（当前实现）

1. 用户完成转账
2. 管理员在后台查看订单
3. 管理员确认收到 USDT
4. 点击"确认支付"按钮
5. 系统自动发货

### 自动确认（可选，需要 API）

如果配置了区块链 API 密钥：
1. 用户完成转账
2. 系统每 5 分钟自动检查区块链
3. 检测到转账后自动确认
4. 系统自动发货

---

## 📊 手续费对比

| 链类型 | 转账手续费 | 到账时间 | 适用场景 |
|--------|-----------|---------|---------|
| TRC20 | ~1 USDT | 1-3 分钟 | 小额支付，推荐 |
| ERC20 | ~5-20 USDT | 5-15 分钟 | 大额支付 |
| BEP20 | ~0.5-2 USDT | 1-3 分钟 | 中等金额 |

---

## 🆘 常见问题

### Q1: 我只有一个钱包，可以配置多条链吗？

**A**: 可以！如果您使用 Trust Wallet、imToken 等多链钱包，同一个钱包可以生成不同链的地址。

### Q2: 我只想支持 TRC20，其他链不配置可以吗？

**A**: 完全可以！只配置 TRC20 地址，用户只能选择 TRC20 支付。

### Q3: 用户转错链了怎么办？

**A**: 如果用户使用错误的网络转账（例如选择 TRC20 但用 ERC20 转账），资金可能会丢失。建议在支付页面添加明显的提示。

### Q4: 如何验证地址是否正确？

**A**: 
- 在钱包中向该地址转账少量 USDT（如 1 USDT）
- 确认能够收到
- 然后再配置到系统中

---

## 📚 相关文档

- [区块链 API 配置指南](./payment-api-configuration.md)
- [USDT 支付配置](../README.md#usdt-支付配置)

---

**配置完成后，您的商城将支持多链 USDT 支付！**

